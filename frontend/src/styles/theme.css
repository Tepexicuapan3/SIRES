/**
 * ============================================
 * VARIABLES DE TEMA - SIRES Metro CDMX
 * ============================================
 * 
 */

@layer base {
  :root {
    /* ========================================================================
       1. PRIMITIVAS (LA PALETA CRUDA)
       No usar estos valores directamente en los componentes. 
       Usar los tokens semánticos definidos más abajo.
       ======================================================================== */

    /* --- Identidad Corporativa STC Metro --- */
    --metro-orange-500: #fe5000; /* Color Institucional Principal */
    --metro-orange-600: #d94300; /* Hover / Active */
    --metro-orange-100: #fff1e6; /* Fondos sutiles */

    --metro-gray-900: #1a1a1a; /* Texto principal */
    --metro-gray-500: #898d8d; /* Elementos deshabilitados/bordes */
    --metro-gray-50: #f9fafb; /* Fondos generales */

    /* --- Acentos de Categorización (Inspirados en Líneas del Metro) --- */
    /* Útiles para etiquetas, badges o diferenciar áreas del hospital/clínica */
    --line-pink: #f04e98; /* Línea 1 - Usar para: Ginecología / Maternidad */
    --line-blue: #007ac1; /* Línea 2 - Usar para: Medicina General / Hombres */
    --line-olive: #b59b28; /* Línea 3 - Usar para: Geriatría */
    --line-teal: #49c0b7; /* Línea 4 - Usar para: Pediatría */

    /* --- Semántica Clínica (Feedback del Sistema) --- */
    --clinical-critical: #ef4444; /* Rojo: Peligro, Alerta vital, Error */
    --clinical-alert: #f59e0b; /* Ambar: Pendiente, Precaución, En espera */
    --clinical-stable: #10b981; /* Esmeralda: Signos estables, Éxito, Guardado */
    --clinical-info: #3b82f6; /* Azul: Información administrativa, Notas */

    /* ========================================================================
       2. TOKENS SEMÁNTICOS (MODO CLARO - DEFAULT)
       Aquí es donde asignamos SIGNIFICADO a los colores.
       ======================================================================== */

    /* --- Superficies (Backgrounds) --- */
    --bg-app: #f3f4f6; /* El fondo gris pálido detrás de todo el sistema */
    --bg-paper: #ffffff; /* El "papel" de un expediente clínico (tarjetas) */
    --bg-paper-lift: #ffffff; /* Elementos flotantes (modales, dropdowns) */
    --bg-subtle: #f8fafc; /* Áreas secundarias dentro de una tarjeta (ej. footer) */

    /* --- Texto y Legibilidad --- */
    --text-body: #111827; /* Casi negro, para lectura prolongada sin cansar */
    --text-muted: #64748b; /* Meta-datos, fechas, etiquetas secundarias */
    --text-hint: #94a3b8; /* Placeholders, texto de ayuda */
    --text-on-brand: #ffffff; /* Texto que va sobre el color naranja */

    /* --- Bordes y Separadores --- */
    --border-hairline: #e2e8f0; /* Divisiones sutiles entre filas de tablas */
    --border-struct: #cbd5e1; /* Bordes de inputs o tarjetas */
    --border-focus: var(--metro-orange-500); /* Foco en formularios */

    /* --- Interacción (Botones/Enlaces) --- */
    --action-main: var(--metro-orange-500);
    --action-main-hover: var(--metro-orange-600);
    --action-muted: var(--metro-gray-500);

    /* --- Sombras (Elevation) --- */
    /* Sistema de profundidad para jerarquizar capas */
    --shadow-card:
      0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-float:
      0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);

    /* ========================================================================
       3. BRIDGE SHADCN/UI → METRO CDMX
       Mapeamos las variables que shadcn/ui espera a nuestros tokens semánticos.
       Esto permite usar componentes shadcn sin modificar su código fuente.
       ======================================================================== */

    /* Bridge para componentes shadcn/ui (modo claro) */
    --background: var(--bg-app);
    --foreground: var(--text-body);

    --card: var(--bg-paper);
    --card-foreground: var(--text-body);

    --popover: var(--bg-paper-lift);
    --popover-foreground: var(--text-body);

    --primary: var(--metro-orange-500);
    --primary-foreground: var(--text-on-brand);

    --secondary: var(--bg-subtle);
    --secondary-foreground: var(--text-body);

    --muted: var(--bg-subtle);
    --muted-foreground: var(--text-muted);

    --accent: var(--metro-orange-100);
    --accent-foreground: var(--metro-orange-600);

    --destructive: var(--clinical-critical);
    --destructive-foreground: #ffffff;

    --border: var(--border-struct);
    --input: var(--border-struct);
    --ring: var(--metro-orange-500);

    --radius: 0.5rem; /* 8px - consistente con nuestro sistema */

    /* Chart colors (para componentes de gráficas si los usamos) */
    --chart-1: var(--line-pink);
    --chart-2: var(--line-blue);
    --chart-3: var(--line-olive);
    --chart-4: var(--line-teal);
    --chart-5: var(--clinical-info);
  }

  /* ========================================================================
     4. TOKENS SEMÁNTICOS (MODO OSCURO - DARK MODE)
     Redefinición automática para entornos de baja luz.
     ======================================================================== */
  :root.dark {
    /* Ajuste de superficies para reducir fatiga visual */
    --bg-app: #0f172a; /* Azul noche profundo */
    --bg-paper: #1e293b; /* Pizarra oscura */
    --bg-paper-lift: #334155; /* Pizarra más clara para modales */
    --bg-subtle: #1e293b;

    /* Textos invertidos */
    --text-body: #f8fafc; /* Blanco humo */
    --text-muted: #94a3b8; /* Gris azulado */
    --text-hint: #64748b;

    /* Bordes oscurecidos */
    --border-hairline: #334155;
    --border-struct: #475569;

    /* Ajuste de colores clínicos para que no brillen demasiado en la oscuridad */
    --clinical-critical: #f87171; /* Rojo más suave */
    --clinical-stable: #34d399; /* Verde más suave */

    /* La marca se mantiene, pero cuidado con el contraste */
    --action-main: #fe5000;
    --action-main-hover: #ff8547;

    /* Bridge shadcn/ui para modo oscuro */
    --background: var(--bg-app);
    --foreground: var(--text-body);
    --card: var(--bg-paper);
    --card-foreground: var(--text-body);
    --popover: var(--bg-paper-lift);
    --popover-foreground: var(--text-body);
    --muted: var(--bg-subtle);
    --muted-foreground: var(--text-muted);
    --border: var(--border-struct);
    --input: var(--border-struct);
  }
}

/* ========================================================================
   5. CONFIGURACIÓN DEL TEMA TAILWIND
   Mapeo final para poder usar las clases en el HTML.
   ======================================================================== */
@theme {
  /* --- COLORES DE INTERFAZ --- */
  /* Uso: bg-app, text-body, border-struct */
  --color-app: var(--bg-app);
  --color-paper: var(--bg-paper);
  --color-paper-lift: var(--bg-paper-lift);
  --color-subtle: var(--bg-subtle);

  --color-txt-body: var(--text-body);
  --color-txt-muted: var(--text-muted);
  --color-txt-hint: var(--text-hint);
  --color-txt-inverse: var(--text-on-brand);

  --color-line-hairline: var(--border-hairline);
  --color-line-struct: var(--border-struct);

  /* --- COLORES DE MARCA --- */
  /* Uso: bg-brand, text-brand, border-brand */
  --color-brand: var(--action-main);
  --color-brand-hover: var(--action-main-hover);
  --color-brand-light: var(--metro-orange-100);

  /* --- COLORES DE ESTADO (CLÍNICOS) --- */
  /* Uso: bg-status-critical, text-status-stable */
  --color-status-critical: var(--clinical-critical);
  --color-status-alert: var(--clinical-alert);
  --color-status-stable: var(--clinical-stable);
  --color-status-info: var(--clinical-info);

  /* --- COLORES DE ÁREAS (METRO LINES) --- */
  /* Uso: bg-area-gyn, text-area-peds */
  --color-area-gyn: var(--line-pink);
  --color-area-gral: var(--line-blue);
  --color-area-geriat: var(--line-olive);
  --color-area-peds: var(--line-teal);

  /* --- RADIOS DE BORDE (CONSISTENCIA VISUAL) --- */
  /* Un sistema clínico debe verse limpio y profesional, no demasiado redondo */
  --radius-xs: 0.125rem; /* 2px - Badges pequeños */
  --radius-sm: 0.25rem; /* 4px - Inputs internos */
  --radius-md: 0.375rem; /* 6px - Botones estándar */
  --radius-lg: 0.5rem; /* 8px - Tarjetas de expedientes */
  --radius-xl: 0.75rem; /* 12px - Modales / Paneles grandes */

  /* --- SOMBRAS --- */
  --shadow-soft: var(--shadow-card);
  --shadow-modal: var(--shadow-float);

  /* --- ANIMACIONES --- */
  --animate-spin-slow: spin 3s linear infinite;
  --animate-pulse-slow: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  --animate-fade-in-up: fade-in-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* ============================================
   6. DEFINICIÓN DE KEYFRAMES
   ============================================ */
@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translateY(20px); /* Empieza 20px abajo */
  }
  100% {
    opacity: 1;
    transform: translateY(0); /* Termina en su lugar original */
  }
}

/* ========================================================================
   7. VARIABLES SIDEBAR - PENDIENTE
   ======================================================================== */
/* Este espacio será utilizado para las variables sidebar de shadcn
   después de instalar sidebar-08 oficial.
   Se adaptarán a los tokens Metro CDMX. */
